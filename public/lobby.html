<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"><title>Game Lobby</title><link rel="stylesheet" href="style.css"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css"></head><body>
<div class="lobby-container">
    <div class="profile-header"><div class="welcome-text"><p>Welcome back,</p><h3 id="userEmail">...</h3></div><div class="balance-container"><p>Your Balance</p><h2 id="balance">₹--.--</h2></div></div>
    <h1 class="section-title">Choose Your Game</h1>
    <div class="game-list">
        <a href="/game.html" class="game-card animate-in" style="animation-delay: 0.2s;"><img src="https://placehold.co/600x400/1a1a1d/66fcf1?text=Color\nPrediction" alt="Color Prediction Game"><div class="game-info"><h3>Color Prediction</h3><p>Bet on colors and win big!</p></div></a>
        <div class="game-card disabled animate-in" style="animation-delay: 0.4s;"><img src="https://placehold.co/600x400/1a1a1d/f9a825?text=Aviator\n(Soon)" alt="Aviator Game"><div class="game-info"><h3>Aviator</h3><p>Coming Soon!</p></div></div>
    </div>
</div>
<!-- Footer Navigation Bar -->
<nav class="footer-nav"><a href="/lobby.html" class="nav-item active"><i class="fas fa-gamepad"></i><span>Games</span></a><a href="/deposit.html" class="nav-item"><i class="fas fa-wallet"></i><span>Deposit</span></a><a href="/withdrawal.html" class="nav-item"><i class="fas fa-money-bill-wave"></i><span>Withdraw</span></a><a href="/profile.html" class="nav-item"><i class="fas fa-user"></i><span>Profile</span></a></nav>
<script>
    const token = localStorage.getItem('authToken');
    if (!token) window.location.href = '/login.html';
    function decodeJwt(t){try{return JSON.parse(atob(t.split('.')[1]));}catch(e){return null;}}
    async function fetchBalance(){const r=await fetch('/api/game/balance',{headers:{'x-auth-token':token}});if(r.ok){const d=await r.json();document.getElementById('balance').textContent=`₹${d.balance.toFixed(2)}`;}else{logout();}}
    function logout(){localStorage.removeItem('authToken');window.location.href='/login.html';}
    document.addEventListener('DOMContentLoaded',()=>{const d=decodeJwt(token);if(d&&d.email){document.getElementById('userEmail').textContent=d.email;}fetchBalance();});
</script></body></html>
